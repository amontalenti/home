# A two-line colored Bash prompt (PS1) with Git branch and a line decoration
# which adjusts automatically to the width of the terminal.
# Michal Kottman, 2012

RESET="\[\033[0m\]"
GRAY="\[\033[1;30m\]"
RED="\[\033[0;31m\]"
GREEN="\[\033[01;32m\]"
BLUE="\[\033[01;34m\]"
YELLOW="\[\033[0;33m\]"

function parse_git_branch {
  PS_GIT_BRANCH=''
  ref=$(git symbolic-ref HEAD 2> /dev/null) || return
  PS_GIT_BRANCH="(${ref#refs/heads/}) "
}
PROMPT_COMMAND=parse_git_branch
if [ `whoami` = "pixelmonkey" -a `hostname` = "pixelmonkey-X220" ]; then
    PS_INFO="$GRAY\w";
else
    PS_INFO="$GREEN\u@\h:$GRAY\w";
fi
PS_GIT="$YELLOW\$PS_GIT_BRANCH"
PS_TIME="$RED[\t]"
export PS1="\[\033[0G\]Â» ${PS_INFO} ${PS_GIT}${PS_TIME}\n${RESET}\$ "
